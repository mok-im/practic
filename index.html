<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Работа с массивами данных</title>
  </head>

  <body>
    <script>
      // Вся работа данного урока проводится в консоли браузера Google Chrome
      // ## Работа с массивами данных

      // Наши данные

      const presidents = [
        { first: "George", last: "Washington", born: 1732, died: 1799 },
        { first: "John", last: "Adams", born: 1735, died: 1826 },
        { first: "Ronald", last: "Reagan", born: 1911, died: 2004 },
        { first: "Gerald", last: "Ford", born: 1913, died: 2006 },
        { first: "Richard", last: "Nixon", born: 1913, died: 1994 },
        { first: "John F.", last: "Kennedy", born: 1917, died: 1963 },
        { first: "Harry S.", last: "Truman", born: 1884, died: 1972 },
        { first: "Grover", last: "Cleveland", born: 1837, died: 1908 },
        { first: "Chester A.", last: "Arthur", born: 1829, died: 1886 },
        { first: "Abraham", last: "Lincoln", born: 1809, died: 1865 },
        { first: "Franklin", last: "Pierce", born: 1804, died: 1869 },
        { first: "Lyndon B.", last: "Johnson", born: 1908, died: 1973 },
        { first: "Dwight D.", last: "Eisenhower", born: 1890, died: 1969 },
      ];

      const writers = [
        "Василий, Жуковский",
        "Александр, Грибоедов",
        "Александр, Пушкин",
        "Владимир, Даль",
        "Николай, Языков",
        "Федор, Тютчев",
        "Николай, Гоголь",
        "Алексей, Кольцов",
        "Александр, Герцен",
        "Иван, Гончаров",
        "Михаил, Лермонтов",
        "Пётр, Ершов",
        "Алексей, Толстой",
        "Даниил, Заточник",
        "Александр, Радищев",
        "Евгений, Баратынский",
        "Петр, Вяземский",
        "Александр, Бестужев-Марлинский",
        "Михаил, Загоскин",
        "Сергей, Аксаков",
        "Владимир, Одоевский",
        "Григорий, Данилевский",
        "Алексей, Писемский",
        "Дмитрий, Григорович",
        "Яков, Полонский",
        "Леонид, Андреев",
        "Валерий, Брюсов",
        "Саша, Черный",
        "Юрий, Трифонов",
        "Федор, Абрамов",
        "Дмитрий, Кедрин",
        "Василий, Шукшин",
      ];

      // Array.prototype.filter()
      // 1. Отфильтровать президентов которые родились в 1700-х годах.
      const born1700 = presidents.filter((presidents) => {
        if (presidents.born >= 1700 && presidents.born < 1800) {
          return true;
        }
      });
      // console.log(born1700);

      // Array.prototype.map()
      // 2. Создать массив, который содержит только имя и фамилию каждого президента
      const fullName = presidents.map(
        (president) => `${president.first}, ${president.last}`
      );
      // console.log(fullName);

      // Array.prototype.sort()
      // 3. Отсортировать президентов по году рождения - от старшего к младшему
      const oldToYounger = presidents.sort((a, b) =>
        a.born > b.born ? 1 : -1
      );
      // console.log(oldToYounger);

      // Array.prototype.reduce()
      // 4. Подсчитать общее количество лет жизни всех президентов
      const summaryLives = presidents.reduce(
        (sum, current) => sum + (current.died - current.born),
        0
      );
      // console.log(summaryLives);

      // 5. Отсортировать президентов в зависимости от количества прожитых лет (от большего к меньшему)
      const timeLives = presidents.sort((a, b) =>
        a.died - a.born > b.died - b.born ? -1 : 1
      );
      // console.log(timeLives);

      // 6. Отсортировать по "Але"
      const names = writers.filter((name) => {
        return name.includes("Але");
      });
      // console.log(names);

      // 7. Упражнение по сортировке
      // Отсортировать массив "writers" по фамилии в алфавитном порядке
      const sortWriters = writers.sort((writerA, writerB) => {
        const [firstA, lastA] = writerA.split(", ");
        const [firstB, lastB] = writerB.split(", ");
        return lastA > lastB ? 1 : -1;
      });
      // console.log(sortWriters);

      // 8. Упражнение по использованию метода Reduce
      // Подсчитать - сколько раз встречается каждый элемент в массиве
      const data = [
        "truck",
        "car",
        "car",
        "truck",
        "bike",
        "walk",
        "car",
        "van",
        "bike",
        "walk",
        "car",
        "van",
        "car",
        "truck",
      ];

      const dataCount = data.reduce((acc, currentValue) => {
        if (!acc[currentValue]) {
          acc[currentValue] = 0;
        }
        acc[currentValue]++;
        return acc;
      }, {});
      // console.log(dataCount);

      // 9. Упражнение по использованию методов .foEach и Object.keys();
      // Создать массив, который будет содержать только уникальные значения данного массива:
      const fruits = [
        "apples",
        "bananas",
        "oranges",
        "apples",
        "grapes",
        "bananas",
        "peaches",
        "strawberries",
        "oranges",
        "apricots",
        "bananas",
      ];

      const uniqueFruits = {};
      fruits.forEach((fruits) => {
        uniqueFruits[fruits] = true;
      });
      // console.log(Object.keys(uniqueFruits));
      //

      // ## Основные Методы Массивов - 2

      const people = [
        { name: "Станислав", year: 2000 },
        { name: "Василий", year: 1986 },
        { name: "Александр", year: 1990 },
        { name: "Владимир", year: 2004 },
      ];

      const comments = [
        { text: "Отличный пост!", id: 523423 },
        { text: "Мне нравится", id: 823423 },
        { text: "Продолжай в том же духе", id: 2039842 },
        { text: "Все аццццтой !!!!!", id: 123523 },
        { text: "Нормально", id: 542328 },
      ];

      //## Методы Some и Every

      // Array.prototype.some() -> Проверить, что по крайней мере одному из людей исполнилось 16 лет.
      const isSixteen = people.some(
        (person) => new Date().getFullYear() - person.year >= 16
      );
      // console.log(isSixteen);

      // Array.prototype.every() -> Проверить, что каждому из людей исполнилось 16 лет.
      const everySixteen = people.every(
        (person) => new Date().getFullYear() - person.year >= 16
      );

      // ## Array.prototype.find() -> Возвращает первый элемент массива, который удовлетворяет нашим требованиям
      // Задача: найти комментарий, c номером ID - 823423
      const commentId = comments.find((comment) => {
        return comment.id === 823423;
      });
      // console.log(commentId);

      // ## Array.prototype.findIndex() -> Возвращает индекс первого элемента, который удовлетворяет нашим требованиям

      // Задача: удалить из массива комментарий с номером ID 123523
      // 1. Находим индекс нужного нам комментария

      const commentIndex = comments.findIndex((comment) => {
        return comment.id === 123523;
      });

      // 2. Удаляем комментарий из массива (используем метод spice())
      // comments.splice(commentIndex, 1);
      // console.log(comments);

      // 2.1 Удаляем комментарий из массива (используем метод slice() и оператор spread)
      const commentsOne = comments.slice(0, commentIndex);
      const commentsTwo = comments.slice(commentIndex + 1);

      // slice() создает новый массив, куда копирует елементы начиная с индекса старт и до end (не включая end)
      // используем оператор spread для копирования всех элементов первого и воторого массива в новый массив newComments:

      const commentsFinal = [...commentsOne, ...commentsTwo];
      console.log(commentsFinal);
    </script>
  </body>
</html>
